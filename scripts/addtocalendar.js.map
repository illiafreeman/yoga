{"version":3,"sources":["../assets/scripts/vendors/addtocalendar-v1.5.js"],"names":["w","d","atc_url","atc_version","Array","indexOf","prototype","obj","i","l","this","length","map","f","result","push","isArray","Object","toString","call","isFunc","ready","inited","loaded","queue","addEventListener","done","removeEventListener","go","attachEvent","readyState","detachEvent","callback","k","frameElement","j","b","doScroll","ie","old","onload","e","check","body","setTimeout","addtocalendar","start","languages","de","en","es","fr","hi","in","ja","ko","pt","ru","uk","zh","calendar_urls","loadSettings","element","settings","language","show-list-on","calendars","secure","on-button-click","on-calendar-click","option","pname","eattr","getAttribute","fn","replace","split","window","eval","load","calendarsUrl","iCalendar","Google Calendar","Outlook","Outlook Online","Yahoo! Calendar","utz","Date","getTimezoneOffset","dom","document","getElementsByTagName","tagnum","tag_class","className","protocol","location","tag_id","id","atc_button_title","user_lang","navigator","substr","browserLanguage","hasOwnProperty","url_paramteres","addtocalendar_div","event_number","varnum","param_name","param_value","innerHTML","encodeURIComponent","atcb_link_id_val","atcb_list","createElement","cnum","cal_id","atcb_link","menu_links","test","userAgent","MSStream","join","undefined","getElementsByClassName","tabIndex","appendChild","parentNode","item_links","_varnum"],"mappings":"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","file":"addtocalendar.js","sourcesContent":["/* jshint ignore:start */\n(function (w, d) {\n    var\n        atc_url = '//addtocalendar.com/atc/',\n        atc_version = '1.5';\n\n\n    if (!Array.indexOf) {\n        Array.prototype.indexOf = function (obj) {\n            for (var i = 0, l = this.length; i < l; i++) {\n                if (this[i] == obj) {\n                    return i;\n                }\n            }\n            return -1;\n        };\n    }\n\n    if (!Array.prototype.map) {\n        Array.prototype.map = function (f) {\n            var result = [];\n            for (var i = 0, l = this.length; i < l; i++) {\n                result.push(f(this[i]));\n            }\n            return result;\n        };\n    }\n\n    var isArray = function (obj) {\n        return Object.prototype.toString.call(obj) === \"[object Array]\";\n    };\n\n    var isFunc = function (obj) {\n        return Object.prototype.toString.call(obj) === \"[object Function]\";\n    };\n\n    var ready = function (w, d) {\n        var inited = false,\n            loaded = false,\n            queue = [],\n            done, old;\n\n        function go() {\n            if (!inited) {\n                if (!d.body) return setTimeout(go, 13);\n                inited = true;\n                if (queue) {\n                    var j, k = 0;\n                    while (j == queue[k++]) j.call(null);\n                    queue = null;\n                }\n            }\n        }\n\n        function check() {\n            if (loaded) return;\n            loaded = true;\n            if (d.readyState === \"complete\") return go();\n            if (d.addEventListener) {\n                d.addEventListener(\"DOMContentLoaded\", done, false);\n                w.addEventListener(\"load\", go, false);\n            } else {\n                if (d.attachEvent) {\n                    d.attachEvent(\"onreadystatechange\", done);\n                    w.attachEvent(\"onload\", go);\n                    var k = false;\n                    try {\n                        k = w.frameElement == null;\n                    } catch (j) {}\n                    if (b.doScroll && k) ie();\n                } else {\n                    old = w.onload;\n                    w.onload = function (e) {\n                        old(e);\n                        go();\n                    };\n                }\n            }\n        }\n        if (d.addEventListener) {\n            done = function () {\n                d.removeEventListener(\"DOMContentLoaded\", done, false);\n                go();\n            };\n        } else {\n            if (d.attachEvent) {\n                done = function () {\n                    if (d.readyState === \"complete\") {\n                        d.detachEvent(\"onreadystatechange\", done);\n                        go();\n                    }\n                };\n            }\n        }\n\n        function ie() {\n            if (inited) return;\n            try {\n                b.doScroll(\"left\");\n            } catch (j) {\n                setTimeout(ie, 1);\n                return;\n            }\n            go();\n        }\n        return function (callback) {\n            check();\n            if (inited) {\n                callback.call(null);\n            } else {\n                queue.push(callback);\n            }\n        };\n    }(w, d);\n\n    if (w.addtocalendar && typeof w.addtocalendar.start == \"function\") return;\n    if (!w.addtocalendar) w.addtocalendar = {};\n\n    addtocalendar.languages = {\n        'de': 'In den Kalender',\n        'en': 'Add to Calendar',\n        'es': 'Añadir al Calendario',\n        'fr': 'Ajouter au calendrier',\n        'hi': 'कैलेंडर में जोड़ें',\n        'in': 'Tambahkan ke Kalender',\n        'ja': 'カレンダーに追加',\n        'ko': '캘린더에 추가',\n        'pt': 'Adicionar ao calendário',\n        'ru': 'Добавить в календарь',\n        'uk': 'Додати в календар',\n        'zh': '添加到日历'\n    };\n\n    addtocalendar.calendar_urls = {\n\n    };\n\n    addtocalendar.loadSettings = function(element){\n        var settings = {\n            'language':'auto',\n            'show-list-on':'click',\n            'calendars':[\n                'iCalendar',\n                'Google Calendar',\n                'Outlook',\n                'Outlook Online',\n                'Yahoo! Calendar'\n            ],\n            'secure':'auto',\n            'on-button-click':function(){},\n            'on-calendar-click':function(){}\n        };\n\n        for (var option in settings){\n            var pname = 'data-' + option;\n            var eattr = element.getAttribute(pname);\n            if(eattr != null){\n\n                if(isArray(settings[option])){\n                    settings[option] = eattr.replace(/\\s*,\\s*/g,',').replace(/^\\s+|\\s+$/g, '').split(',');\n                    continue;\n                }\n\n                if(isFunc(settings[option])){\n                    var fn = window[eattr];\n                    if(isFunc(fn)) {\n                        settings[option]=fn;\n                    }else {\n                        settings[option]=eval('(function(mouseEvent){'+eattr+'})');\n                    }\n                    continue;\n                }\n\n                settings[option]=element.getAttribute(pname);\n            }\n        }\n\n        return settings;\n    };\n\n    addtocalendar.load = function () {\n\n        var calendarsUrl = {\n            'iCalendar':'ical',\n            'Google Calendar':'google',\n            'Outlook':'outlook',\n            'Outlook Online':'outlookonline',\n            'Yahoo! Calendar':'yahoo'\n        };\n        var utz = (-(new Date()).getTimezoneOffset().toString());\n\n        var languages = addtocalendar.languages;\n\n        var dom = document.getElementsByTagName('*');\n        for (var tagnum = 0; tagnum < dom.length; tagnum++) {\n            var tag_class = dom[tagnum].className;\n\n            if (tag_class.length && tag_class.split(\" \").indexOf('addtocalendar') != -1) {\n\n                var settings = addtocalendar.loadSettings(dom[tagnum]);\n\n                var protocol = 'http:';\n                if(settings.secure == 'auto'){\n                    protocol = location.protocol == 'https:' ? 'https:' : 'http:';\n                } else if(settings.secure == 'true'){\n                    protocol = 'https:';\n                }\n\n                var tag_id = dom[tagnum].id;\n                var atc_button_title = languages.en;\n                if(settings.language == 'auto'){\n                    var user_lang = \"no_lang\";\n                    if (typeof navigator.language === \"string\") {\n                        user_lang = navigator.language.substr(0, 2);\n                    } else if (typeof navigator.browserLanguage === \"string\") {\n                        user_lang = navigator.browserLanguage.substr(0, 2);\n                    }\n\n                    if(languages.hasOwnProperty(user_lang)){\n                        atc_button_title = languages[user_lang];\n                    }\n                }else if(languages.hasOwnProperty(settings.language)){\n                    atc_button_title = languages[settings.language];\n                }\n\n                var url_paramteres = [\n                    'utz=' + utz,\n                    'uln=' + navigator.language,\n                    'vjs=' + atc_version\n                ];\n\n                var addtocalendar_div = dom[tagnum].getElementsByTagName('var');\n                var event_number = -1;\n                for (var varnum = 0; varnum < addtocalendar_div.length; varnum++) {\n                    var param_name = addtocalendar_div[varnum].className.replace(\"atc_\",\"\").split(\" \")[0];\n                    var param_value = addtocalendar_div[varnum].innerHTML;\n\n                    if(param_name == 'event'){\n                        event_number++;\n                        continue;\n                    }\n\n                    if(param_name == addtocalendar_div[varnum].className){\n                        if(param_name == 'atc-body'){\n                            atc_button_title = param_value;\n                        }\n                        continue;\n                    }\n\n                    if(event_number == -1){\n                        continue;\n                    }\n\n                    url_paramteres.push('e['+event_number+']['+param_name+']' + '=' + encodeURIComponent(param_value));\n                }\n\n\n                var atcb_link_id_val = (tag_id == ''?'':(tag_id + '_link') );\n                var atcb_list = document.createElement('ul');\n                atcb_list.className = 'atcb-list';\n\n                var menu_links = '';\n                for (var cnum in settings.calendars){\n                    if(!calendarsUrl.hasOwnProperty(settings.calendars[cnum])){\n                        continue;\n                    }\n                    var cal_id = calendarsUrl[settings.calendars[cnum]];\n                    var atcb_cal_link_id = (tag_id == '' ? '' : ('id=\"'+tag_id + '_' + cal_id + '_link\"') );\n                    menu_links +=\n                        '<li class=\"atcb-item\"><a '+ atcb_cal_link_id +\n                        ' class=\"atcb-item-link\" href=\"' +\n                        (cal_id=='ical' && /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream ? 'webcal:' : protocol) +\n                        atc_url + cal_id + '?' + url_paramteres.join('&') +\n                        '\" target=\"_blank\">' + settings.calendars[cnum] + '</a></li>';\n                }\n                atcb_list.innerHTML = menu_links;\n\n                var atcb_link;\n                if(dom[tagnum].getElementsByClassName('atcb-link')[0] == undefined){\n                    atcb_link = document.createElement('a');\n                    atcb_link.className = 'atcb-link';\n                    atcb_link.innerHTML = atc_button_title;\n                    atcb_link.id = atcb_link_id_val;\n                    atcb_link.tabIndex = 1;\n\n                    dom[tagnum].appendChild(atcb_link);\n                    dom[tagnum].appendChild(atcb_list);\n                }else{\n                    atcb_link = dom[tagnum].getElementsByClassName('atcb-link')[0];\n                    atcb_link.parentNode.appendChild(atcb_list);\n                    atcb_link.tabIndex=1;\n                    if(atcb_link.id == ''){\n                        atcb_link.id = atcb_link_id_val;\n                    }\n                }\n\n                dom[tagnum]\n                    .getElementsByClassName('atcb-link')[0]\n                    .addEventListener(\"click\", settings['on-button-click'], false);\n\n                var item_links = dom[tagnum].getElementsByClassName('atcb-item-link');\n\n                for (var _varnum = 0; _varnum < item_links.length; _varnum++) {\n                    item_links[_varnum].addEventListener(\"click\", settings['on-calendar-click'], false);\n                }\n\n            }\n        }\n    };\n    addtocalendar.load();\n})(window, document);\n/* jshint ignore:end */\n"],"sourceRoot":"assets/scripts/"}