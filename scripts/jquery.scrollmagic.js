!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.ScrollMagic=t()}(this,function(){"use strict";function P(){}P.version="2.0.8","undefined"!=typeof window&&window.addEventListener("mousewheel",void 0);var O="data-scrollmagic-pin-spacer";P.Controller=function(e){function t(){var e,t;b&&g&&(e=M.type.Array(g)?g:p.slice(0),g=!1,t=h,0!=(t=(h=u.scrollPos())-t)&&(v=0<t?"FORWARD":l),v===l&&e.reverse(),e.forEach(function(e,t){e.update(!0)}))}function n(){s=M.rAF(t)}function r(){0<f.refreshInterval&&(a=window.setTimeout(S,f.refreshInterval))}function o(){return f.vertical?M.get.height(f.container):M.get.width(f.container)}function i(e){"resize"==e.type&&(w=o(),v=c),!0!==g&&(g=!0,n())}var s,a,l="REVERSE",c="PAUSED",d=C.defaults,u=this,f=M.extend({},d,e),p=[],g=!1,h=0,v=c,m=!0,w=0,b=!0,y=function(){return f.vertical?M.get.scrollTop(f.container):M.get.scrollLeft(f.container)},E=this._setScrollPos=function(e){f.vertical?m?window.scrollTo(M.get.scrollLeft(),e):f.container.scrollTop=e:m?window.scrollTo(e,M.get.scrollTop()):f.container.scrollLeft=e},S=function(){if(!m&&w!=o()){var t;try{t=new Event("resize",{bubbles:!1,cancelable:!1})}catch(e){(t=document.createEvent("Event")).initEvent("resize",!1,!1)}f.container.dispatchEvent(t)}p.forEach(function(e,t){e.refresh()}),r()};function x(e){if(e.length<=1)return e;e=e.slice(0);return e.sort(function(e,t){return e.scrollOffset()>t.scrollOffset()?1:-1}),e}return this._options=f,this.addScene=function(e){if(M.type.Array(e))e.forEach(function(e,t){u.addScene(e)});else if(e instanceof P.Scene)if(e.controller()!==u)e.addTo(u);else if(!~p.indexOf(e))for(var t in p.push(e),p=x(p),e.on("shift.controller_sort",function(){p=x(p)}),f.globalSceneOptions)e[t]&&e[t].call(e,f.globalSceneOptions[t]);return u},this.removeScene=function(e){var t;return M.type.Array(e)?e.forEach(function(e,t){u.removeScene(e)}):-1<(t=p.indexOf(e))&&(e.off("shift.controller_sort"),p.splice(t,1),e.remove()),u},this.updateScene=function(e,r){return M.type.Array(e)?e.forEach(function(e,t){u.updateScene(e,r)}):r?e.update(!0):!0!==g&&e instanceof P.Scene&&(~(g=g||[]).indexOf(e)||g.push(e),g=x(g),n()),u},this.update=function(e){return i({type:"resize"}),e&&t(),u},this.scrollTo=function(e,t){if(M.type.Number(e))E.call(f.container,e,t);else if(e instanceof P.Scene)e.controller()===u&&u.scrollTo(e.scrollOffset(),t);else if(M.type.Function(e))E=e;else{var r=M.get.elements(e)[0];if(r){for(;r.parentNode.hasAttribute(O);)r=r.parentNode;var n=f.vertical?"top":"left",o=M.get.offset(f.container),e=M.get.offset(r);m||(o[n]-=u.scrollPos()),u.scrollTo(e[n]-o[n],t)}}return u},this.scrollPos=function(e){return arguments.length?(M.type.Function(e)&&(y=e),u):y.call(u)},this.info=function(e){var t={size:w,vertical:f.vertical,scrollPos:h,scrollDirection:v,container:f.container,isDocument:m};return arguments.length?void 0!==t[e]?t[e]:void 0:t},this.loglevel=function(e){return u},this.enabled=function(e){return arguments.length?(b!=e&&(b=!!e,u.updateScene(p,!0)),u):b},this.destroy=function(e){window.clearTimeout(a);for(var t=p.length;t--;)p[t].destroy(e);return f.container.removeEventListener("resize",i),f.container.removeEventListener("scroll",i),M.cAF(s),null},function(){for(var e in f)d.hasOwnProperty(e)||delete f[e];if(f.container=M.get.elements(f.container)[0],!f.container)throw"ScrollMagic.Controller init failed.";(m=f.container===window||f.container===document.body||!document.body.contains(f.container))&&(f.container=window),w=o(),f.container.addEventListener("resize",i),f.container.addEventListener("scroll",i);var t=parseInt(f.refreshInterval,10);f.refreshInterval=M.type.Number(t)?t:d.refreshInterval,r()}(),u};var C={defaults:{container:window,vertical:!0,globalSceneOptions:{},loglevel:2,refreshInterval:100}};P.Controller.addOption=function(e,t){C.defaults[e]=t},P.Controller.extend=function(e){var t=this;P.Controller=function(){return t.apply(this,arguments),this.$super=M.extend({},this),e.apply(this,arguments)||this},M.extend(P.Controller,t),P.Controller.prototype=t.prototype,P.Controller.prototype.constructor=P.Controller},P.Scene=function(e){var r,a,s="BEFORE",l="DURING",c="AFTER",n=N.defaults,d=this,u=M.extend({},n,e),f=s,p=0,o={start:0,end:0},g=0,i=!0,h={};this.on=function(e,r){return M.type.Function(r)&&(e=e.trim().split(" ")).forEach(function(e){var t=e.split("."),e=t[0],t=t[1];"*"!=e&&(h[e]||(h[e]=[]),h[e].push({namespace:t||"",callback:r}))}),d},this.off=function(e,i){return e&&(e=e.trim().split(" ")).forEach(function(e,t){var r=e.split("."),e=r[0],o=r[1]||"";("*"===e?Object.keys(h):[e]).forEach(function(e){for(var t=h[e]||[],r=t.length;r--;){var n=t[r];!n||o!==n.namespace&&"*"!==o||i&&i!=n.callback||t.splice(r,1)}t.length||delete h[e]})}),d},this.trigger=function(e,r){var n,o;return e&&(e=e.trim().split("."),n=e[0],o=e[1],(e=h[n])&&e.forEach(function(e,t){o&&o!==e.namespace||e.callback.call(d,new P.Event(n,e.namespace,d,r))})),d},d.on("change.internal",function(e){"loglevel"!==e.what&&"tweenChanges"!==e.what&&("triggerElement"===e.what?b():"reverse"===e.what&&d.update())}).on("shift.internal",function(e){t(),d.update()}),this.addTo=function(e){return e instanceof P.Controller&&a!=e&&(a&&a.removeScene(d),a=e,S(),w(!0),b(!0),t(),a.info("container").addEventListener("resize",y),e.addScene(d),d.trigger("add",{controller:a}),d.update()),d},this.enabled=function(e){return arguments.length?(i!=e&&(i=!!e,d.update(!0)),d):i},this.remove=function(){var e;return a&&(a.info("container").removeEventListener("resize",y),e=a,a=void 0,e.removeScene(d),d.trigger("remove")),d},this.destroy=function(e){return d.trigger("destroy",{reset:e}),d.remove(),d.off("*.*"),null},this.update=function(e){var t;return a&&(e?a.enabled()&&i?(t=a.info("scrollPos"),e=0<u.duration?(t-o.start)/(o.end-o.start):t>=o.start?1:0,d.trigger("update",{startPos:o.start,endPos:o.end,scrollPos:t}),d.progress(e)):v&&f===l&&_(!0):a.updateScene(d,!1)),d},this.refresh=function(){return w(),b(),d},this.progress=function(e){if(arguments.length){var t,r=!1,n=f,o=a?a.info("scrollDirection"):"PAUSED",i=u.reverse||p<=e;return 0===u.duration?(r=p!=e,f=0==(p=e<1&&i?0:1)?s:l):e<0&&f!==s&&i?(f=s,r=!(p=0)):0<=e&&e<1&&i?(p=e,f=l,r=!0):1<=e&&f!==c?(p=1,f=c,r=!0):f!==l||i||_(),r&&(t={progress:p,state:f,scrollDirection:o},r=function(e){d.trigger(e,t)},(o=f!=n)&&n!==l&&(r("enter"),r(n===s?"start":"end")),r("progress"),o&&f!==l&&(r(f===s?"start":"end"),r("leave"))),d}return p};var v,m,t=function(){o={start:g+u.offset},a&&u.triggerElement&&(o.start-=a.info("size")*u.triggerHook),o.end=o.start+u.duration},w=function(e){var t;!r||x(t="duration",r.call(d))&&!e&&(d.trigger("change",{what:t,newval:u[t]}),d.trigger("shift",{reason:t}))},b=function(e){var t=0,r=u.triggerElement;if(a&&(r||0<g)){if(r)if(r.parentNode){for(var n=a.info(),o=M.get.offset(n.container),i=n.vertical?"top":"left";r.parentNode.hasAttribute(O);)r=r.parentNode;var s=M.get.offset(r);n.isDocument||(o[i]-=a.scrollPos()),t=s[i]-o[i]}else d.triggerElement(void 0);i=t!=g;g=t,i&&!e&&d.trigger("shift",{reason:"triggerElementPosition"})}},y=function(e){0<u.triggerHook&&d.trigger("shift",{reason:"containerResize"})},E=M.extend(N.validate,{duration:function(e){var t;if(M.type.String(e)&&e.match(/^(\.|\d)*\d+%$/)&&(t=parseFloat(e)/100,e=function(){return a?a.info("size")*t:0}),M.type.Function(e)){r=e;try{e=parseFloat(r.call(d))}catch(t){e=-1}}if(e=parseFloat(e),!M.type.Number(e)||e<0)throw r=r&&void 0,0;return e}}),S=function(e){(e=arguments.length?[e]:Object.keys(E)).forEach(function(e,t){var r;if(E[e])try{r=E[e](u[e])}catch(t){r=n[e]}finally{u[e]=r}})},x=function(e,t){var r=!1,n=u[e];return u[e]!=t&&(u[e]=t,S(e),r=n!=u[e]),r};function C(){a&&v&&f===l&&!a.info("isDocument")&&_()}function T(){a&&v&&f===l&&((m.relSize.width||m.relSize.autoFullWidth)&&M.get.width(window)!=M.get.width(m.spacer.parentNode)||m.relSize.height&&M.get.height(window)!=M.get.height(m.spacer.parentNode))&&z()}function L(e){a&&v&&f===l&&!a.info("isDocument")&&(e.preventDefault(),a._setScrollPos(a.info("scrollPos")-((e.wheelDelta||e[a.info("vertical")?"wheelDeltaY":"wheelDeltaX"])/3||30*-e.detail)))}this.controller=function(){return a},this.state=function(){return f},this.scrollOffset=function(){return o.start},this.triggerPosition=function(){var e=u.offset;return a&&(u.triggerElement?e+=g:e+=a.info("size")*d.triggerHook()),e},d.on("shift.internal",function(e){e="duration"===e.reason;(f===c&&e||f===l&&0===u.duration)&&_(),e&&z()}).on("progress.internal",function(e){_()}).on("add.internal",function(e){z()}).on("destroy.internal",function(e){d.removePin(e.reset)});var _=function(e){var t,r,n;v&&a&&(t=a.info(),n=m.spacer.firstChild,e||f!==l?(e={position:m.inFlow?"relative":"absolute",top:0,left:0},r=M.css(n,"position")!=e.position,m.pushFollowers?0<u.duration&&(f===c&&0===parseFloat(M.css(m.spacer,"padding-top"))||f===s&&0===parseFloat(M.css(m.spacer,"padding-bottom")))&&(r=!0):e[t.vertical?"top":"left"]=u.duration*p,M.css(n,e),r&&z()):("fixed"!=M.css(n,"position")&&(M.css(n,{position:"fixed"}),z()),r=M.get.offset(m.spacer,!0),n=u.reverse||0===u.duration?t.scrollPos-o.start:Math.round(p*u.duration*10)/10,r[t.vertical?"top":"left"]+=n,M.css(m.spacer.firstChild,{top:r.top,left:r.left})))},z=function(){var e,t,r,n,o;v&&a&&m.inFlow&&(e=f===l,t=a.info("vertical"),r=m.spacer.firstChild,n=M.isMarginCollapseType(M.css(m.spacer,"display")),o={},m.relSize.width||m.relSize.autoFullWidth?e?M.css(v,{width:M.get.width(m.spacer)}):M.css(v,{width:"100%"}):(o["min-width"]=M.get.width(t?v:r,!0,!0),o.width=e?o["min-width"]:"auto"),m.relSize.height?e?M.css(v,{height:M.get.height(m.spacer)-(m.pushFollowers?u.duration:0)}):M.css(v,{height:"100%"}):(o["min-height"]=M.get.height(t?r:v,!0,!n),o.height=e?o["min-height"]:"auto"),m.pushFollowers&&(o["padding"+(t?"Top":"Left")]=u.duration*p,o["padding"+(t?"Bottom":"Right")]=u.duration*(1-p)),M.css(m.spacer,o))};this.setPin=function(e,t){if(t=M.extend({},{pushFollowers:!0,spacerClass:"scrollmagic-pin-spacer"},t),!(e=M.get.elements(e)[0]))return d;if("fixed"===M.css(e,"position"))return d;if(v){if(v===e)return d;d.removePin()}var r=(v=e).parentNode.style.display,n=["top","left","bottom","right","margin","marginLeft","marginRight","marginTop","marginBottom"];v.parentNode.style.display="none";var o="absolute"!=M.css(v,"position"),i=M.css(v,n.concat(["display"])),s=M.css(v,["width","height"]);v.parentNode.style.display=r,!o&&t.pushFollowers&&(t.pushFollowers=!1);var a,e=v.parentNode.insertBefore(document.createElement("div"),v),r=M.extend(i,{position:o?"relative":"absolute",boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"});return o||M.extend(r,M.css(v,["width","height"])),M.css(e,r),e.setAttribute(O,""),M.addClass(e,t.spacerClass),m={spacer:e,relSize:{width:"%"===s.width.slice(-1),height:"%"===s.height.slice(-1),autoFullWidth:"auto"===s.width&&o&&M.isMarginCollapseType(i.display)},pushFollowers:t.pushFollowers,inFlow:o},v.___origStyle||(v.___origStyle={},a=v.style,n.concat(["width","height","position","boxSizing","mozBoxSizing","webkitBoxSizing"]).forEach(function(e){v.___origStyle[e]=a[e]||""})),m.relSize.width&&M.css(e,{width:s.width}),m.relSize.height&&M.css(e,{height:s.height}),e.appendChild(v),M.css(v,{position:o?"relative":"absolute",margin:"auto",top:"auto",left:"auto",bottom:"auto",right:"auto"}),(m.relSize.width||m.relSize.autoFullWidth)&&M.css(v,{boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"}),window.addEventListener("scroll",C),window.addEventListener("resize",C),window.addEventListener("resize",T),v.addEventListener("mousewheel",L),v.addEventListener("DOMMouseScroll",L),_(),d},this.removePin=function(e){var t,r;return v&&(f===l&&_(!0),!e&&a||((e=m.spacer.firstChild).hasAttribute(O)&&(t=m.spacer.style,r={},["margin","marginLeft","marginRight","marginTop","marginBottom"].forEach(function(e){r[e]=t[e]||""}),M.css(e,r)),m.spacer.parentNode.insertBefore(e,m.spacer),m.spacer.parentNode.removeChild(m.spacer),v.parentNode.hasAttribute(O)||(M.css(v,v.___origStyle),delete v.___origStyle)),window.removeEventListener("scroll",C),window.removeEventListener("resize",C),window.removeEventListener("resize",T),v.removeEventListener("mousewheel",L),v.removeEventListener("DOMMouseScroll",L),v=void 0),d};var G,F=[];return d.on("destroy.internal",function(e){d.removeClassToggle(e.reset)}),this.setClassToggle=function(e,t){e=M.get.elements(e);return 0!==e.length&&M.type.String(t)&&(0<F.length&&d.removeClassToggle(),G=t,F=e,d.on("enter.internal_class leave.internal_class",function(e){var r="enter"===e.type?M.addClass:M.removeClass;F.forEach(function(e,t){r(e,G)})})),d},this.removeClassToggle=function(e){return e&&F.forEach(function(e,t){M.removeClass(e,G)}),d.off("start.internal_class end.internal_class"),G=void 0,F=[],d},function(){for(var e in u)n.hasOwnProperty(e)||delete u[e];for(var t in n)!function(t){d[t]||(d[t]=function(e){return arguments.length?("duration"===t&&(r=void 0),x(t,e)&&(d.trigger("change",{what:t,newval:u[t]}),~N.shifts.indexOf(t)&&d.trigger("shift",{reason:t})),d):u[t]})}(t);S()}(),d};var N={defaults:{duration:0,offset:0,triggerElement:void 0,triggerHook:.5,reverse:!0,loglevel:2},validate:{offset:function(e){if(e=parseFloat(e),!M.type.Number(e))throw 0;return e},triggerElement:function(e){if(e=e||void 0){var t=M.get.elements(e)[0];if(!t||!t.parentNode)throw 0;e=t}return e},triggerHook:function(e){var t={onCenter:.5,onEnter:1,onLeave:0};if(M.type.Number(e))e=Math.max(0,Math.min(parseFloat(e),1));else{if(!(e in t))throw 0;e=t[e]}return e},reverse:function(e){return!!e}},shifts:["duration","offset","triggerHook"]};P.Scene.addOption=function(e,t,r,n){e in N.defaults||(N.defaults[e]=t,N.validate[e]=r,n&&N.shifts.push(e))},P.Scene.extend=function(e){var t=this;P.Scene=function(){return t.apply(this,arguments),this.$super=M.extend({},this),e.apply(this,arguments)||this},M.extend(P.Scene,t),P.Scene.prototype=t.prototype,P.Scene.prototype.constructor=P.Scene},P.Event=function(e,t,r,n){for(var o in n=n||{})this[o]=n[o];return this.type=e,this.target=this.currentTarget=r,this.namespace=t||"",this.timeStamp=this.timestamp=Date.now(),this};var M=P._util=function(i){function s(e){return parseFloat(e)||0}function a(e){return e.currentStyle||i.getComputedStyle(e)}function n(e,t,r,n){if((t=t===document?i:t)===i)n=!1;else if(!u.DomElement(t))return 0;e=e[0].toUpperCase()+e.substr(1).toLowerCase();var o=(r?t["offset"+e]||t["outer"+e]:t["client"+e]||t["inner"+e])||0;return r&&n&&(t=a(t),o+="Height"===e?s(t.marginTop)+s(t.marginBottom):s(t.marginLeft)+s(t.marginRight)),o}function l(e){return e.replace(/^[^a-z]+([a-z])/g,"$1").replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})}for(var e={extend:function(e){for(e=e||{},d=1;d<arguments.length;d++)if(arguments[d])for(var t in arguments[d])arguments[d].hasOwnProperty(t)&&(e[t]=arguments[d][t]);return e},isMarginCollapseType:function(e){return!!~["block","flex","list-item","table","-webkit-box"].indexOf(e)}},o=0,t=["ms","moz","webkit","o"],r=i.requestAnimationFrame,c=i.cancelAnimationFrame,d=0;!r&&d<4;++d)r=i[t[d]+"RequestAnimationFrame"],c=i[t[d]+"CancelAnimationFrame"]||i[t[d]+"CancelRequestAnimationFrame"];r=r||function(e){var t=(new Date).getTime(),r=Math.max(0,16-(t-o)),n=i.setTimeout(function(){e(t+r)},r);return o=t+r,n},c=c||function(e){i.clearTimeout(e)},e.rAF=r.bind(i),e.cAF=c.bind(i);var u=e.type=function(e){return Object.prototype.toString.call(e).replace(/^\[object (.+)\]$/,"$1").toLowerCase()};u.String=function(e){return"string"===u(e)},u.Function=function(e){return"function"===u(e)},u.Array=function(e){return Array.isArray(e)},u.Number=function(e){return!u.Array(e)&&0<=e-parseFloat(e)+1},u.DomElement=function(e){return"object"==typeof HTMLElement||"function"==typeof HTMLElement?e instanceof HTMLElement||e instanceof SVGElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName};var f=e.get={};return f.elements=function(e){var t=[];if(u.String(e))try{e=document.querySelectorAll(e)}catch(e){return t}if("nodelist"===u(e)||u.Array(e)||e instanceof NodeList)for(var r=0,n=t.length=e.length;r<n;r++){var o=e[r];t[r]=u.DomElement(o)?o:f.elements(o)}else!u.DomElement(e)&&e!==document&&e!==i||(t=[e]);return t},f.scrollTop=function(e){return e&&"number"==typeof e.scrollTop?e.scrollTop:i.pageYOffset||0},f.scrollLeft=function(e){return e&&"number"==typeof e.scrollLeft?e.scrollLeft:i.pageXOffset||0},f.width=function(e,t,r){return n("width",e,t,r)},f.height=function(e,t,r){return n("height",e,t,r)},f.offset=function(e,t){var r={top:0,left:0};return e&&e.getBoundingClientRect&&(e=e.getBoundingClientRect(),r.top=e.top,r.left=e.left,t||(r.top+=f.scrollTop(),r.left+=f.scrollLeft())),r},e.addClass=function(e,t){t&&(e.classList?e.classList.add(t):e.className+=" "+t)},e.removeClass=function(e,t){t&&(e.classList?e.classList.remove(t):e.className=e.className.replace(RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))},e.css=function(e,t){if(u.String(t))return a(e)[l(t)];if(u.Array(t)){var r={},n=a(e);return t.forEach(function(e,t){r[e]=n[l(e)]}),r}for(var o in t){var i=t[o];i==parseFloat(i)&&(i+="px"),e.style[l(o)]=i}},e}(window||{});return P}),function(e,t){var r;"function"==typeof define&&define.amd?define(["ScrollMagic","gsap","TweenMax","TimelineMax"],t):"object"==typeof exports?(r=require("gsap/dist/gsap")||require("gsap"),t(require("scrollmagic"),r,TweenMax||r,TimelineMax||r)):t(e.ScrollMagic||e.jQuery&&e.jQuery.ScrollMagic,e.gsap,e.gsap||e.TweenMax||e.TweenLite,e.gsap||e.TimelineMax||e.TimelineLite)}(this,function(e,t,l,c){"use strict";var d=t&&3<=parseFloat(t.version);e.Scene.addOption("tweenChanges",!1,function(e){return!!e}),e.Scene.extend(function(){var i,s=this;s.on("progress.plugin_gsap",function(){a()}),s.on("destroy.plugin_gsap",function(e){s.removeTween(e.reset)});var a=function(){var e,t;i&&(e=s.progress(),t=s.state(),i.repeat&&-1===i.repeat()?"DURING"===t&&i.paused()?i.play():"DURING"===t||i.paused()||i.pause():e!=i.progress()&&(0===s.duration()?0<e?i.play():i.reverse():s.tweenChanges()&&i.tweenTo?i.tweenTo(e*i.duration()):i.progress(e).pause()))};s.setTween=function(e,t,r){var n,o;1<arguments.length&&(o="number"==typeof arguments[1],d?(o||(r=t),r.hasOwnProperty("duration")||(r.duration=o?t:1)):arguments.length<3&&(r=t,t=1),e=d?l.to(e,r):l.to(e,t,r));try{(n=c&&!d?new c({smoothChildTiming:!0}).add(e):e).pause()}catch(e){return s}return i&&s.removeTween(),i=n,e.repeat&&-1===e.repeat()&&(i.repeat(-1),i.yoyo(e.yoyo())),a(),s},s.removeTween=function(e){return i&&(e&&i.progress(0).pause(),i.kill(),i=void 0),s}})}),function(e,t){"function"==typeof define&&define.amd?define(["ScrollMagic"],t):"object"==typeof exports?t(require("scrollmagic")):t(e.ScrollMagic||e.jQuery&&e.jQuery.ScrollMagic)}(this,function(n){"use strict";var v=n._util,m=0;n.Scene.extend(function(){var r,n=this;n.addIndicators=function(e){var t;return r||(t={name:"",indent:0,parent:void 0,colorStart:"green",colorEnd:"red",colorTrigger:"blue"},e=v.extend({},t,e),m++,r=new o(n,e),n.on("add.plugin_addIndicators",r.add),n.on("remove.plugin_addIndicators",r.remove),n.on("destroy.plugin_addIndicators",n.removeIndicators),n.controller()&&r.add()),n},n.removeIndicators=function(){return r&&(r.remove(),this.off("*.plugin_addIndicators"),r=void 0),n}}),n.Controller.addOption("addIndicators",!1),n.Controller.extend(function(){var u=this,e=u.info(),f=e.container,p=e.isDocument,g=e.vertical,h={groups:[]};function t(){h.updateBoundsPositions()}function r(){h.updateTriggerGroupPositions()}return this._indicators=h,f.addEventListener("resize",r),p||(window.addEventListener("resize",r),window.addEventListener("scroll",r)),f.addEventListener("resize",t),f.addEventListener("scroll",t),this._indicators.updateBoundsPositions=function(e){for(var t,r,n,o=e?[v.extend({},e.triggerGroup,{members:[e]})]:h.groups,i=o.length,s={},a=g?"left":"top",l=g?"width":"height",c=g?v.get.scrollLeft(f)+v.get.width(f)-15:v.get.scrollTop(f)+v.get.height(f)-15;i--;)for(t=(n=o[i]).members.length,r=v.get[l](n.element.firstChild);t--;)s[a]=c-r,v.css(n.members[t].bounds,s)},this._indicators.updateTriggerGroupPositions=function(e){for(var t,r,n,o,i=e?[e]:h.groups,s=i.length,e=p?document.body:f,a=p?{top:0,left:0}:v.get.offset(e,!0),l=g?v.get.width(f)-15:v.get.height(f)-15,c=g?"width":"height",d=g?"Y":"X";s--;)r=(t=i[s]).element,n=t.triggerHook*u.info("size"),o=v.get[c](r.firstChild.firstChild)<n?"translate"+d+"(-100%)":"",v.css(r,{top:a.top+(g?n:l-t.members[0].options.indent),left:a.left+(g?l-t.members[0].options.indent:n)}),v.css(r.firstChild.firstChild,{"-ms-transform":o,"-webkit-transform":o,transform:o})},this._indicators.updateTriggerGroupLabel=function(e){var t="trigger"+(1<e.members.length?"":" "+e.members[0].options.name),e=e.element.firstChild.firstChild;e.textContent!==t&&(e.textContent=t,g&&h.updateBoundsPositions())},this.addScene=function(e){this._options.addIndicators&&e instanceof n.Scene&&e.controller()===u&&e.addIndicators(),this.$super.addScene.apply(this,arguments)},this.destroy=function(){f.removeEventListener("resize",r),p||(window.removeEventListener("resize",r),window.removeEventListener("scroll",r)),f.removeEventListener("resize",t),f.removeEventListener("scroll",t),this.$super.destroy.apply(this,arguments)},u});var o=function(o,i){var s,a,l=this,t=w.bounds(),r=w.start(i.colorStart),n=w.end(i.colorEnd),c=i.parent&&v.get.elements(i.parent)[0];i.name=i.name||m,r.firstChild.textContent+=" "+i.name,n.textContent+=" "+i.name,t.appendChild(r),t.appendChild(n),l.options=i,l.bounds=t,l.triggerGroup=void 0,this.add=function(){a=o.controller(),s=a.info("vertical");var e=a.info("isDocument");c=c||(e?document.body:a.info("container")),e||"static"!==v.css(c,"position")||v.css(c,{position:"relative"}),o.on("change.plugin_addIndicators",u),o.on("shift.plugin_addIndicators",d),h(),p(),setTimeout(function(){a._indicators.updateBoundsPositions(l)},0)},this.remove=function(){var e;l.triggerGroup&&(o.off("change.plugin_addIndicators",u),o.off("shift.plugin_addIndicators",d),1<l.triggerGroup.members.length?((e=l.triggerGroup).members.splice(e.members.indexOf(l),1),a._indicators.updateTriggerGroupLabel(e),a._indicators.updateTriggerGroupPositions(e),l.triggerGroup=void 0):g(),f())};var d=function(){p()},u=function(e){"triggerHook"===e.what&&h()},f=function(){t.parentNode.removeChild(t)},p=function(){t.parentNode!==c&&(e=a.info("vertical"),v.css(r.firstChild,{"border-bottom-width":e?1:0,"border-right-width":e?0:1,bottom:e?-1:i.indent,right:e?i.indent:-1,padding:e?"0 8px":"2px 4px"}),v.css(n,{"border-top-width":e?1:0,"border-left-width":e?0:1,top:e?"100%":"",right:e?i.indent:"",bottom:e?"":i.indent,left:e?"":"100%",padding:e?"0 8px":"2px 4px"}),c.appendChild(t));var e={};e[s?"top":"left"]=o.triggerPosition(),e[s?"height":"width"]=o.duration(),v.css(t,e),v.css(n,{display:0<o.duration()?"":"none"})},g=function(){a._indicators.groups.splice(a._indicators.groups.indexOf(l.triggerGroup),1),l.triggerGroup.element.parentNode.removeChild(l.triggerGroup.element),l.triggerGroup=void 0},h=function(){var e=o.triggerHook();if(!(l.triggerGroup&&Math.abs(l.triggerGroup.triggerHook-e)<1e-4)){for(var t,r=a._indicators.groups,n=r.length;n--;)if(t=r[n],Math.abs(t.triggerHook-e)<1e-4)return l.triggerGroup&&(1===l.triggerGroup.members.length?g():(l.triggerGroup.members.splice(l.triggerGroup.members.indexOf(l),1),a._indicators.updateTriggerGroupLabel(l.triggerGroup),a._indicators.updateTriggerGroupPositions(l.triggerGroup))),t.members.push(l),l.triggerGroup=t,void a._indicators.updateTriggerGroupLabel(t);if(l.triggerGroup){if(1===l.triggerGroup.members.length)return l.triggerGroup.triggerHook=e,void a._indicators.updateTriggerGroupPositions(l.triggerGroup);l.triggerGroup.members.splice(l.triggerGroup.members.indexOf(l),1),a._indicators.updateTriggerGroupLabel(l.triggerGroup),a._indicators.updateTriggerGroupPositions(l.triggerGroup),l.triggerGroup=void 0}!function(){var e=w.trigger(i.colorTrigger),t={};t[s?"right":"bottom"]=0,t[s?"border-top-width":"border-left-width"]=1,v.css(e.firstChild,t),v.css(e.firstChild.firstChild,{padding:s?"0 8px 3px 8px":"3px 4px"}),document.body.appendChild(e);e={triggerHook:o.triggerHook(),element:e,members:[l]};a._indicators.groups.push(e),l.triggerGroup=e,a._indicators.updateTriggerGroupLabel(e),a._indicators.updateTriggerGroupPositions(e)}()}}},w={start:function(e){var t=document.createElement("div");t.textContent="start",v.css(t,{position:"absolute",overflow:"visible","border-width":0,"border-style":"solid",color:e,"border-color":e});e=document.createElement("div");return v.css(e,{position:"absolute",overflow:"visible",width:0,height:0}),e.appendChild(t),e},end:function(e){var t=document.createElement("div");return t.textContent="end",v.css(t,{position:"absolute",overflow:"visible","border-width":0,"border-style":"solid",color:e,"border-color":e}),t},bounds:function(){var e=document.createElement("div");return v.css(e,{position:"absolute",overflow:"visible","white-space":"nowrap","pointer-events":"none","font-size":"0.85em"}),e.style.zIndex="9999",e},trigger:function(e){var t=document.createElement("div");t.textContent="trigger",v.css(t,{position:"relative"});var r=document.createElement("div");v.css(r,{position:"absolute",overflow:"visible","border-width":0,"border-style":"solid",color:e,"border-color":e}),r.appendChild(t);t=document.createElement("div");return v.css(t,{position:"fixed",overflow:"visible","white-space":"nowrap","pointer-events":"none","font-size":"0.85em"}),t.style.zIndex="9999",t.appendChild(r),t}}});
//# sourceMappingURL=jquery.scrollmagic.js.map
